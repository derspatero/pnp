var course = {
	"coursename":"Queen Elizabeth Pitch and Putt",
	"players":["Ed","Ryan","Mike","Sam"],
	"holes":[
		{"hole":1,"yd":75,"par":4,"player0":0,"player1":0,"player2":0,"player3":0},
		{"hole":2,"yd":75,"par":3,"player0":0,"player1":0,"player2":0,"player3":0},
		{"hole":3,"yd":75,"par":3,"player0":0,"player1":0,"player2":0,"player3":0},
		{"hole":4,"yd":75,"par":3,"player0":0,"player1":0,"player2":0,"player3":0},
		{"hole":5,"yd":75,"par":3,"player0":0,"player1":0,"player2":0,"player3":0},
		{"hole":6,"yd":75,"par":3,"player0":0,"player1":0,"player2":0,"player3":0},
		{"hole":7,"yd":75,"par":3,"player0":0,"player1":0,"player2":0,"player3":0},
		{"hole":8,"yd":75,"par":3,"player0":0,"player1":0,"player2":0,"player3":0},
		{"hole":9,"yd":75,"par":3,"player0":0,"player1":0,"player2":0,"player3":0},
		{"hole":10,"yd":75,"par":3,"player0":5,"player1":0,"player2":0,"player3":0},
		{"hole":11,"yd":75,"par":3,"player0":0,"player1":0,"player2":0,"player3":0},
		{"hole":12,"yd":75,"par":3,"player0":0,"player1":0,"player2":0,"player3":0},
		{"hole":13,"yd":75,"par":3,"player0":0,"player1":0,"player2":0,"player3":0},
		{"hole":14,"yd":75,"par":3,"player0":0,"player1":0,"player2":0,"player3":0},
		{"hole":15,"yd":75,"par":3,"player0":0,"player1":0,"player2":0,"player3":0},
		{"hole":16,"yd":75,"par":3,"player0":0,"player1":0,"player2":0,"player3":0},
		{"hole":17,"yd":75,"par":3,"player0":0,"player1":0,"player2":0,"player3":0},
		{"hole":18,"yd":75,"par":3,"player0":0,"player1":0,"player2":0,"player3":0}
	],
	"fronttotal":{"yd":0,"par":0,"player0":0,"player1":0,"player2":0,"player3":0},
	"backtotal":{"yd":0,"par":0,"player0":0,"player1":0,"player2":0,"player3":0},
	"total":{"yd":0,"par":0,"player0":0,"player1":0,"player2":0,"player3":0}
}

var player0scores = [];
var player1scores = [];
var player2scores = [];
var player3scores = [];

/*
Front 9 scorecard
*/

$("h1").html(course.coursename);
createScoreCard();

function createScoreCard() {

	$("#frontnine").html("");
	$("#backnine").html("");

	$("#frontnine").append('<tr><th>hole</th><th>yd</th><th>par</th><th>' + 
		course.players[0] + '</th><th>' + 
		course.players[1] + '</th><th>' + 
		course.players[2] + '</th><th>' + 
		course.players[3] + '</th></tr>');

	for (i=0; i<course.holes.length/2; i++) {

		// var scoreform = '<label for="select-native-2"></label><select name="select-native-2" id="select-native-2">';
		// for (j=0; j<=parseInt(course.holes[i].par)*2; j++) {
		// 	scoreform += '<option value="' + j + '">' + j + '</option>';
		// }	
		// scoreform += '</select>';

		var scoreform = course.holes[i];

		$("#frontnine").append('<tr><td>' + course.holes[i].hole + '</td><td>' + 
			course.holes[i].yd + '</td><td>' + course.holes[i].par + 
			'</td><td class="playerscore" id="player0hole' + i + '">' + scoreform.player0 + 
			'</td><td class="playerscore" id="player1hole' + i + '">' + scoreform.player1 + 
			'</td><td class="playerscore" id="player2hole' + i + '">' + scoreform.player2 + 
			'</td><td class="playerscore" id="player3hole' + i + '">' + scoreform.player3 + '</td></tr>');

		player0scores.push(document.getElementById('player0hole' + i));
		player1scores.push(document.getElementById('player1hole' + i));
		player2scores.push(document.getElementById('player2hole' + i));
		player3scores.push(document.getElementById('player3hole' + i));

		course.fronttotal.yd += parseInt(course.holes[i].yd);
		course.fronttotal.par += parseInt(course.holes[i].par);
		course.fronttotal.player0 += parseInt(course.holes[i].player0);
		course.fronttotal.player1 += parseInt(course.holes[i].player1);
		course.fronttotal.player2 += parseInt(course.holes[i].player2);
		course.fronttotal.player3 += parseInt(course.holes[i].player3);

	}

	$("#frontnine").append('<tr><td></td><td>' + 
		course.fronttotal.yd + '</td><td>' + course.fronttotal.par + '</td><td>' + 
		course.fronttotal.player0 + '</td><td>' + course.fronttotal.player1 + '</td><td>' + 
		course.fronttotal.player2 + '</td><td>' + course.fronttotal.player3 + '</td></tr>');

	/*
	End Front 9 scorecard
	*/

	/*
	Back 9 scorecard
	*/

	$("h1").html(course.coursename);

	$("#backnine").append('<tr><th>hole</th><th>yd</th><th>par</th><th>' + 
		course.players[0] + '</th><th>' + 
		course.players[1] + '</th><th>' + 
		course.players[2] + '</th><th>' + 
		course.players[3] + '</th></tr>');

	for (var i=course.holes.length/2; i<course.holes.length; i++) {

		var scoreform = {};
		var playerholescore = {}
		playerholescore[0] = course.holes[i].player0;
		playerholescore[1] = course.holes[i].player1;
		playerholescore[2] = course.holes[i].player2;
		playerholescore[3] = course.holes[i].player3;

		for (var t=0; t<4; t++) {
			scoreform[t] = '<label for="select-native-2"></label><select name="select-native-2" class="playerscoreselector" id="select-player' + t + '-hole' + i + '">';
			for (j=0; j<=parseInt(course.holes[i].par)*2; j++) {
				if (j==playerholescore[t]) {
					scoreform[t] += '<option value="' + j + '" selected="selected">' + j + '</option>';
				}
				else {
					scoreform[t] += '<option value="' + j + '">' + j + '</option>';
				}
			}	
			scoreform[t] += '</select>';
		}

		$("#backnine").append('<tr><td>' + course.holes[i].hole + '</td><td>' + 
			course.holes[i].yd + '</td><td>' + course.holes[i].par + 
			'</td><td class="playerscore" id="player0hole' + i + '">' + scoreform[0] + 
			'</td><td class="playerscore" id="player1hole' + i + '">' + scoreform[1] + 
			'</td><td class="playerscore" id="player2hole' + i + '">' + scoreform[2] + 
			'</td><td class="playerscore" id="player3hole' + i + '">' + scoreform[3] + '</td></tr>');

		player0scores.push(document.getElementById('player0hole' + i));
		player1scores.push(document.getElementById('player1hole' + i));
		player2scores.push(document.getElementById('player2hole' + i));
		player3scores.push(document.getElementById('player3hole' + i));

		course.backtotal.yd += parseInt(course.holes[i].yd);
		course.backtotal.par += parseInt(course.holes[i].par);
		course.backtotal.player0 += parseInt(course.holes[i].player1);
		course.backtotal.player1 += parseInt(course.holes[i].player2);
		course.backtotal.player2 += parseInt(course.holes[i].player3);
		course.backtotal.player3 += parseInt(course.holes[i].player4);
	}

	course.total.yd = course.fronttotal.yd + course.backtotal.yd;
	course.total.par = course.fronttotal.par + course.backtotal.par;
	course.total.player0 = course.fronttotal.player0 + course.backtotal.player0;
	course.total.player1 = course.fronttotal.player1 + course.backtotal.player1;
	course.total.player2 = course.fronttotal.player2 + course.backtotal.player2;
	course.total.player3 = course.fronttotal.player3 + course.backtotal.player3;

	$("#backnine").append('<tr><td>IN</td><td>' + 
		course.backtotal.yd + '</td><td>' + course.backtotal.par + '</td><td id="player0back">' + 
		course.backtotal.player0 + '</td><td id="player1back">' + course.backtotal.player1 + '</td><tdid="player2back">' + 
		course.backtotal.player2 + '</td><td id="player3back">' + course.backtotal.player3 + '</td></tr>');

	$("#backnine").append('<tr><td>OUT</td><td>' + 
		course.fronttotal.yd + '</td><td>' + course.fronttotal.par + '</td><td id="player0front">' + 
		course.fronttotal.player0 + '</td><td id="player1front">' + course.fronttotal.player1 + '</td><td id="player2front">' + 
		course.fronttotal.player2 + '</td><td id="player3front">' + course.fronttotal.player3 + '</td></tr>');

	$("#backnine").append('<tr><td>TOTAL</td><td>' + 
		course.total.yd + '</td><td>' + course.total.par + '</td><td id="player0total">' + 
		course.total.player0 + '</td><td id="player1total">' + course.total.player1 + '</td><td id="player2total">' + 
		course.total.player2 + '</td><td id="player3total">' + course.total.player3 + '</td></tr>');

	/*
	End back 9 scorecard
	*/
}

function calculateScores(i){
	var player = i.split('hole')[0];
	var hole = i.split('hole')[1];
	alert('player:' + i.split('hole')[0] + 'hole:' +i.split('hole')[1]);

	$("#frontnine").append('<tr><td></td><td>' + 
	course.fronttotal.yd + '</td><td>' + course.fronttotal.par + '</td><td>' + 
	course.fronttotal.player0 + '</td><td>' + course.fronttotal.player1 + '</td><td>' + 
	course.fronttotal.player2 + '</td><td>' + course.fronttotal.player3 + '</td></tr>');


}


$(".playerscoreselector").click(function (){
	var element = $(this).attr("id")
	// alert("id =" + element);
	var i = $(this).attr('id').split('player')[1];
	var player = i.split('-hole')[0];
	var hole = i.split('-hole')[1];
	var score = $(this).val()
 	alert('player:' + player + ' hole:' + hole + ' score:' + score);
 	if(player == '0'){
		course.holes[hole].player0 = score;
	}
	if(player == 1){
		course.holes[hole].player1 = score;
	}
	if(player == 2){
		course.holes[hole].player2 = score;
	}
	if(player == 3){
		course.holes[hole].player3 = score;
	}

	alert("course.holes[" + hole + "][" + player + "] =" + course.holes[hole].player0);

    updateScores();
});

function updateScores() {
	$("#player0total").html(course.backtotal.player0);
}

